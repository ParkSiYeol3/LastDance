<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>동네 지도</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB4VYRybsdXvXEr4qYM4W0dpzJOpNx2vsk&callback=initMap" async
        defer></script>
</head>

<body>
    <div id="header-container"></div>

    <main>
        <div id="map" style="width: 100%; height: 500px;"></div>
    </main>

    <script>
        // 기본 지도 초기화
        function initMap() {
            const center = { lat: 37.5665, lng: 126.9780 }; // 서울 기준
            const map = new google.maps.Map(document.getElementById('map'), {
                zoom: 12,
                center: center
            });

            // 샘플 마커
            new google.maps.Marker({
                position: center,
                map: map,
                title: '여기서 만나요!'
            });
        }

        // 페이지가 로드되면 지도를 초기화합니다.
        window.onload = function () {
            if (typeof google !== 'undefined' && google.maps) {
                initMap();  // Google Maps API가 로드되면 지도 초기화
            } else {
                console.error('Google Maps API 로드 실패');
            }
        };
    </script>

    <script type="module">
        // 헤더 로더 기능 (header-loader.js)
        import { loadHeader } from './js/header-loader.js';
        loadHeader();
    </script>
</body>

</html>